{"ast":null,"code":"var _jsxFileName = \"/media/moataz/data/my-projects/react projects/trivia/src/components/pages/QuizPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Card, Form } from 'react-bootstrap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getQuestions } from './../../store/actions/questionActions';\nimport Spinner from 'react-bootstrap/Spinner';\nimport ResultPage from './ResultPage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst QuizPage = () => {\n  _s();\n\n  var _question$question;\n\n  const dispatch = useDispatch();\n  const questions = useSelector(state => state.questionsReducer.questions);\n  const [question, setQuestion] = useState({});\n  const [choice, setChoice] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [score, setScore] = useState(0);\n  const [index, setIndex] = useState(11);\n  const [userAnswers, setUserAnswers] = useState([]);\n  useEffect(() => {\n    dispatch(getQuestions());\n  }, []);\n  useEffect(() => {\n    console.log(questions);\n\n    if (questions) {\n      setQuestion(questions[0]); // setIndex(1);\n    }\n  }, [questions]);\n\n  const check_answer = user_answer => {\n    console.log(user_answer.toLowerCase() == question.correct_answer.toLowerCase());\n\n    if (user_answer.toLowerCase() == question.correct_answer.toLowerCase()) {\n      setScore(val => ++val);\n      setUserAnswers(items => {\n        return [...items, {\n          question: question.question,\n          correct_answer: question.correct_answer.toLowerCase(),\n          user_success: true\n        }];\n      });\n    } else {\n      setUserAnswers(items => {\n        return [...items, {\n          question: question.question,\n          correct_answer: question.correct_answer.toLowerCase(),\n          user_success: false\n        }];\n      });\n    }\n  };\n\n  const nextQuestion = evt => {\n    setLoading(true);\n    let q_index = questions.findIndex(item => item == question);\n    check_answer(evt.target.value);\n    setChoice(evt.target.value);\n    setTimeout(() => {\n      setChoice(null);\n      setQuestion(questions[++q_index]);\n      setIndex(x => ++x);\n      setLoading(false);\n    }, 1000);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: index < 11 ? /*#__PURE__*/_jsxDEV(Card, {\n      style: {\n        textAlign: 'center',\n        paddingTop: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n        children: question.category\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            border: '3px solid red',\n            width: '60vw',\n            height: '50vh',\n            margin: '0 auto'\n          },\n          children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              justifyContent: 'center',\n              alignItems: 'center',\n              height: '50vh'\n            },\n            children: /*#__PURE__*/_jsxDEV(Spinner, {\n              animation: \"border\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 121\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 26\n          }, this) : /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: question === null || question === void 0 ? void 0 : (_question$question = question.question) === null || _question$question === void 0 ? void 0 : _question$question.replace(/&quot;/g, '\"')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 158\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-3\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Check, {\n            inline: true,\n            name: \"group1\",\n            type: 'radio',\n            id: `true`,\n            label: `True`,\n            onClick: nextQuestion,\n            value: 'true',\n            checked: choice == 'true'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Form.Check, {\n            inline: true,\n            name: \"group1\",\n            type: 'radio',\n            id: `false`,\n            label: `False`,\n            onClick: nextQuestion,\n            value: 'false',\n            checked: choice == 'false'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 11\n          }, this)]\n        }, `true`, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 21\n    }, this) : /*#__PURE__*/_jsxDEV(ResultPage, {\n      answers: userAnswers,\n      score: score\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }, this)\n  }, void 0, false);\n};\n\n_s(QuizPage, \"NKU3orQkb5nUD2AcAYOsUDaW/Mc=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = QuizPage;\nexport default QuizPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"QuizPage\");","map":{"version":3,"names":["React","useState","useEffect","Card","Form","useDispatch","useSelector","getQuestions","Spinner","ResultPage","QuizPage","dispatch","questions","state","questionsReducer","question","setQuestion","choice","setChoice","loading","setLoading","score","setScore","index","setIndex","userAnswers","setUserAnswers","console","log","check_answer","user_answer","toLowerCase","correct_answer","val","items","user_success","nextQuestion","evt","q_index","findIndex","item","target","value","setTimeout","x","textAlign","paddingTop","category","border","width","height","margin","display","justifyContent","alignItems","replace"],"sources":["/media/moataz/data/my-projects/react projects/trivia/src/components/pages/QuizPage.js"],"sourcesContent":["import React, {useState, useEffect} from 'react';\nimport { Card, Form } from 'react-bootstrap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {getQuestions} from './../../store/actions/questionActions';\nimport Spinner from 'react-bootstrap/Spinner';\nimport ResultPage from './ResultPage';\nconst QuizPage = () => {\n    const dispatch = useDispatch();\n    const questions = useSelector(state => state.questionsReducer.questions);\n    const [question, setQuestion] = useState({});\n    const [choice, setChoice] = useState(null);\n    const [loading, setLoading] = useState(false);\n    const [score, setScore] = useState(0);\n    const [index, setIndex] = useState(11);\n    const [userAnswers, setUserAnswers] = useState([]);\n    useEffect(() => {\n       dispatch(getQuestions()); \n    }, []);\n\n    useEffect(() => { console.log(questions);\n        if(questions){\n            setQuestion(questions[0]);\n           // setIndex(1);\n        }\n    }, [questions]);\n\n    const check_answer = (user_answer) => { console.log(user_answer.toLowerCase() == question.correct_answer.toLowerCase());\n        if(user_answer.toLowerCase() == question.correct_answer.toLowerCase()) {\n            setScore(val=>++val);\n            setUserAnswers(items=>{ return [...items, {question: question.question, correct_answer: question.correct_answer.toLowerCase(), user_success: true}]});\n        } else {\n            setUserAnswers(items=>{ return [...items, {question: question.question, correct_answer: question.correct_answer.toLowerCase(), user_success: false}]});\n        }\n    };\n\n    const nextQuestion = (evt) => {\n        setLoading(true);\n        let q_index = questions.findIndex(item=>item==question);\n        check_answer(evt.target.value);\n        setChoice(evt.target.value);\n        setTimeout(() => {\n            setChoice(null);\n        setQuestion(questions[++q_index]);\n        setIndex(x=>++x);\n        setLoading(false);\n        }, 1000);\n        \n    };\n    return (\n        <>{index<11?<Card style={{textAlign: 'center', paddingTop: '20px'}}>\n            <Card.Title>\n               {question.category}\n            </Card.Title>\n            <Card.Body>\n            <div style={{border: '3px solid red',width: '60vw', height: '50vh', margin: '0 auto'}}>\n                {loading?<div style={{display: 'flex', justifyContent: 'center', alignItems: 'center', height: '50vh'}}><Spinner animation=\"border\" /></div>:<h3>{question?.question?.replace(/&quot;/g, '\"')}</h3> }\n                </div>\n                <div key={`true`} className=\"mt-3\">\n          <Form.Check inline\n          name=\"group1\"\n            type={'radio'}\n            id={`true`}\n            label={`True`}\n            onClick={nextQuestion}\n            value={'true'}\n            checked={choice=='true'}\n          />\n           \n          <Form.Check  inline\n          name=\"group1\"\n            type={'radio'}\n            id={`false`}\n            label={`False`}\n            onClick={nextQuestion}\n            value={'false'}\n            checked={choice=='false'}\n          />\n            </div>\n            </Card.Body>\n            \n        </Card>:<ResultPage answers={userAnswers} score={score} />}\n        </>\n    );\n};\n\nexport default QuizPage;\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,SAASC,IAAT,EAAeC,IAAf,QAA2B,iBAA3B;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAAQC,YAAR,QAA2B,uCAA3B;AACA,OAAOC,OAAP,MAAoB,yBAApB;AACA,OAAOC,UAAP,MAAuB,cAAvB;;;;AACA,MAAMC,QAAQ,GAAG,MAAM;EAAA;;EAAA;;EACnB,MAAMC,QAAQ,GAAGN,WAAW,EAA5B;EACA,MAAMO,SAAS,GAAGN,WAAW,CAACO,KAAK,IAAIA,KAAK,CAACC,gBAAN,CAAuBF,SAAjC,CAA7B;EACA,MAAM,CAACG,QAAD,EAAWC,WAAX,IAA0Bf,QAAQ,CAAC,EAAD,CAAxC;EACA,MAAM,CAACgB,MAAD,EAASC,SAAT,IAAsBjB,QAAQ,CAAC,IAAD,CAApC;EACA,MAAM,CAACkB,OAAD,EAAUC,UAAV,IAAwBnB,QAAQ,CAAC,KAAD,CAAtC;EACA,MAAM,CAACoB,KAAD,EAAQC,QAAR,IAAoBrB,QAAQ,CAAC,CAAD,CAAlC;EACA,MAAM,CAACsB,KAAD,EAAQC,QAAR,IAAoBvB,QAAQ,CAAC,EAAD,CAAlC;EACA,MAAM,CAACwB,WAAD,EAAcC,cAAd,IAAgCzB,QAAQ,CAAC,EAAD,CAA9C;EACAC,SAAS,CAAC,MAAM;IACbS,QAAQ,CAACJ,YAAY,EAAb,CAAR;EACF,CAFQ,EAEN,EAFM,CAAT;EAIAL,SAAS,CAAC,MAAM;IAAEyB,OAAO,CAACC,GAAR,CAAYhB,SAAZ;;IACd,IAAGA,SAAH,EAAa;MACTI,WAAW,CAACJ,SAAS,CAAC,CAAD,CAAV,CAAX,CADS,CAEV;IACF;EACJ,CALQ,EAKN,CAACA,SAAD,CALM,CAAT;;EAOA,MAAMiB,YAAY,GAAIC,WAAD,IAAiB;IAAEH,OAAO,CAACC,GAAR,CAAYE,WAAW,CAACC,WAAZ,MAA6BhB,QAAQ,CAACiB,cAAT,CAAwBD,WAAxB,EAAzC;;IACpC,IAAGD,WAAW,CAACC,WAAZ,MAA6BhB,QAAQ,CAACiB,cAAT,CAAwBD,WAAxB,EAAhC,EAAuE;MACnET,QAAQ,CAACW,GAAG,IAAE,EAAEA,GAAR,CAAR;MACAP,cAAc,CAACQ,KAAK,IAAE;QAAE,OAAO,CAAC,GAAGA,KAAJ,EAAW;UAACnB,QAAQ,EAAEA,QAAQ,CAACA,QAApB;UAA8BiB,cAAc,EAAEjB,QAAQ,CAACiB,cAAT,CAAwBD,WAAxB,EAA9C;UAAqFI,YAAY,EAAE;QAAnG,CAAX,CAAP;MAA4H,CAAtI,CAAd;IACH,CAHD,MAGO;MACHT,cAAc,CAACQ,KAAK,IAAE;QAAE,OAAO,CAAC,GAAGA,KAAJ,EAAW;UAACnB,QAAQ,EAAEA,QAAQ,CAACA,QAApB;UAA8BiB,cAAc,EAAEjB,QAAQ,CAACiB,cAAT,CAAwBD,WAAxB,EAA9C;UAAqFI,YAAY,EAAE;QAAnG,CAAX,CAAP;MAA6H,CAAvI,CAAd;IACH;EACJ,CAPD;;EASA,MAAMC,YAAY,GAAIC,GAAD,IAAS;IAC1BjB,UAAU,CAAC,IAAD,CAAV;IACA,IAAIkB,OAAO,GAAG1B,SAAS,CAAC2B,SAAV,CAAoBC,IAAI,IAAEA,IAAI,IAAEzB,QAAhC,CAAd;IACAc,YAAY,CAACQ,GAAG,CAACI,MAAJ,CAAWC,KAAZ,CAAZ;IACAxB,SAAS,CAACmB,GAAG,CAACI,MAAJ,CAAWC,KAAZ,CAAT;IACAC,UAAU,CAAC,MAAM;MACbzB,SAAS,CAAC,IAAD,CAAT;MACJF,WAAW,CAACJ,SAAS,CAAC,EAAE0B,OAAH,CAAV,CAAX;MACAd,QAAQ,CAACoB,CAAC,IAAE,EAAEA,CAAN,CAAR;MACAxB,UAAU,CAAC,KAAD,CAAV;IACC,CALS,EAKP,IALO,CAAV;EAOH,CAZD;;EAaA,oBACI;IAAA,UAAGG,KAAK,GAAC,EAAN,gBAAS,QAAC,IAAD;MAAM,KAAK,EAAE;QAACsB,SAAS,EAAE,QAAZ;QAAsBC,UAAU,EAAE;MAAlC,CAAb;MAAA,wBACR,QAAC,IAAD,CAAM,KAAN;QAAA,UACI/B,QAAQ,CAACgC;MADb;QAAA;QAAA;QAAA;MAAA,QADQ,eAIR,QAAC,IAAD,CAAM,IAAN;QAAA,wBACA;UAAK,KAAK,EAAE;YAACC,MAAM,EAAE,eAAT;YAAyBC,KAAK,EAAE,MAAhC;YAAwCC,MAAM,EAAE,MAAhD;YAAwDC,MAAM,EAAE;UAAhE,CAAZ;UAAA,UACKhC,OAAO,gBAAC;YAAK,KAAK,EAAE;cAACiC,OAAO,EAAE,MAAV;cAAkBC,cAAc,EAAE,QAAlC;cAA4CC,UAAU,EAAE,QAAxD;cAAkEJ,MAAM,EAAE;YAA1E,CAAZ;YAAA,uBAA+F,QAAC,OAAD;cAAS,SAAS,EAAC;YAAnB;cAAA;cAAA;cAAA;YAAA;UAA/F;YAAA;YAAA;YAAA;UAAA,QAAD,gBAAqI;YAAA,UAAKnC,QAAL,aAAKA,QAAL,6CAAKA,QAAQ,CAAEA,QAAf,uDAAK,mBAAoBwC,OAApB,CAA4B,SAA5B,EAAuC,GAAvC;UAAL;YAAA;YAAA;YAAA;UAAA;QADjJ;UAAA;UAAA;UAAA;QAAA,QADA,eAII;UAAkB,SAAS,EAAC,MAA5B;UAAA,wBACN,QAAC,IAAD,CAAM,KAAN;YAAY,MAAM,MAAlB;YACA,IAAI,EAAC,QADL;YAEE,IAAI,EAAE,OAFR;YAGE,EAAE,EAAG,MAHP;YAIE,KAAK,EAAG,MAJV;YAKE,OAAO,EAAEnB,YALX;YAME,KAAK,EAAE,MANT;YAOE,OAAO,EAAEnB,MAAM,IAAE;UAPnB;YAAA;YAAA;YAAA;UAAA,QADM,eAWN,QAAC,IAAD,CAAM,KAAN;YAAa,MAAM,MAAnB;YACA,IAAI,EAAC,QADL;YAEE,IAAI,EAAE,OAFR;YAGE,EAAE,EAAG,OAHP;YAIE,KAAK,EAAG,OAJV;YAKE,OAAO,EAAEmB,YALX;YAME,KAAK,EAAE,OANT;YAOE,OAAO,EAAEnB,MAAM,IAAE;UAPnB;YAAA;YAAA;YAAA;UAAA,QAXM;QAAA,GAAW,MAAX;UAAA;UAAA;UAAA;QAAA,QAJJ;MAAA;QAAA;QAAA;QAAA;MAAA,QAJQ;IAAA;MAAA;MAAA;MAAA;IAAA,QAAT,gBA+BK,QAAC,UAAD;MAAY,OAAO,EAAEQ,WAArB;MAAkC,KAAK,EAAEJ;IAAzC;MAAA;MAAA;MAAA;IAAA;EA/BR,iBADJ;AAmCH,CA7ED;;GAAMX,Q;UACeL,W,EACCC,W;;;KAFhBI,Q;AA+EN,eAAeA,QAAf"},"metadata":{},"sourceType":"module"}